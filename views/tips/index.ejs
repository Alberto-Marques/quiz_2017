

<ul>
    <% for (var i in tips) { %>
        <% var tip = tips[i]; %>

        <% var tipText = tip.accepted ||
                (session.user && 
		(session.user.isAdmin || 
		(quizAuthorId && quizAuthorId === session.user.id) ||
                (tip.Author && tip.Author.id === session.user.id)))
         %>

         <% var acceptation = !tip.accepted &&
                (session.user && (session.user.isAdmin || 
		(quizAuthorId && quizAuthorId === session.user.id))) 
	 %>

         <% var showDelete = session.user && 
		(session.user.isAdmin || 
		(quizAuthorId && quizAuthorId === session.user.id) || 
		(tip.Author && tip.Author.id === session.user.id))
	 %>
	
	<% if (tipText){ %>
	<li>

            <p><%= tip.text %></p>
            <span id="autor"><%= tip.Author ? tip.Author.username : "AnÃ³mino" %></span>

            <% if (acceptation){ %>
                <a href="/quizzes/<%= quizId %>/tips/<%= tip.id %>/accept?_method=PUT"><button>Aceptar</button></a>
            <% } %>

            <% if (showDelete){ %>
                <a href="/quizzes/<%= quizId %>/tips/<%= tip.id %>?_method=DELETE"><button>Borrar</button></a>
            <% } %>

        </li>
	<% } %>

    <% } %>
</ul>
